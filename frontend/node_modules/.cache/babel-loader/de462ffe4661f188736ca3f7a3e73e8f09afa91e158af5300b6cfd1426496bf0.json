{"ast":null,"code":"import React,{useState,useEffect}from'react';import{motion}from'framer-motion';import{FiPlus,FiCalendar,FiClock,FiCheckCircle,FiXCircle,FiAlertCircle}from'react-icons/fi';import{attendanceAPI}from'../../services/api';import LoadingSpinner from'../../components/ui/LoadingSpinner';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Attendance=()=>{const[attendance,setAttendance]=useState([]);const[loading,setLoading]=useState(true);useEffect(()=>{fetchAttendance();},[]);const fetchAttendance=async()=>{try{setLoading(true);const response=await attendanceAPI.getAll();if(response.success){setAttendance(response.data.attendance);}}catch(error){console.error('Error fetching attendance:',error);}finally{setLoading(false);}};const getStatusIcon=status=>{switch(status){case'Present':return/*#__PURE__*/_jsx(FiCheckCircle,{className:\"w-5 h-5 text-green-600\"});case'Absent':return/*#__PURE__*/_jsx(FiXCircle,{className:\"w-5 h-5 text-red-600\"});case'Half Day':return/*#__PURE__*/_jsx(FiAlertCircle,{className:\"w-5 h-5 text-yellow-600\"});default:return/*#__PURE__*/_jsx(FiClock,{className:\"w-5 h-5 text-gray-600\"});}};const getStatusColor=status=>{switch(status){case'Present':return'bg-green-100 text-green-800';case'Absent':return'bg-red-100 text-red-800';case'Half Day':return'bg-yellow-100 text-yellow-800';default:return'bg-gray-100 text-gray-800';}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-64\",children:/*#__PURE__*/_jsx(LoadingSpinner,{size:\"lg\"})});}return/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:0.5},className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900\",children:\"Attendance\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mt-1\",children:\"Track employee attendance and time records\"})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn-primary\",children:[/*#__PURE__*/_jsx(FiPlus,{className:\"w-4 h-4 mr-2\"}),\"Mark Attendance\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"table-header\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"table-header-cell\",children:\"Employee\"}),/*#__PURE__*/_jsx(\"th\",{className:\"table-header-cell\",children:\"Date\"}),/*#__PURE__*/_jsx(\"th\",{className:\"table-header-cell\",children:\"Check In\"}),/*#__PURE__*/_jsx(\"th\",{className:\"table-header-cell\",children:\"Check Out\"}),/*#__PURE__*/_jsx(\"th\",{className:\"table-header-cell\",children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{className:\"table-header-cell\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"table-body\",children:attendance.map(record=>{var _record$employeeId,_record$employeeId$fu,_record$employeeId2,_record$employeeId3;return/*#__PURE__*/_jsxs(motion.tr,{initial:{opacity:0},animate:{opacity:1},transition:{duration:0.3},className:\"table-row\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"table-cell\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center mr-3\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600 font-medium text-xs\",children:(_record$employeeId=record.employeeId)===null||_record$employeeId===void 0?void 0:(_record$employeeId$fu=_record$employeeId.fullName)===null||_record$employeeId$fu===void 0?void 0:_record$employeeId$fu.split(' ').map(n=>n[0]).join('')})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-900\",children:(_record$employeeId2=record.employeeId)===null||_record$employeeId2===void 0?void 0:_record$employeeId2.fullName}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:(_record$employeeId3=record.employeeId)===null||_record$employeeId3===void 0?void 0:_record$employeeId3.employeeId})]})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"table-cell\",children:new Date(record.date).toLocaleDateString()}),/*#__PURE__*/_jsx(\"td\",{className:\"table-cell\",children:record.checkInTime?new Date(record.checkInTime).toLocaleTimeString():'-'}),/*#__PURE__*/_jsx(\"td\",{className:\"table-cell\",children:record.checkOutTime?new Date(record.checkOutTime).toLocaleTimeString():'-'}),/*#__PURE__*/_jsx(\"td\",{className:\"table-cell\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[getStatusIcon(record.status),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 inline-flex px-2 py-1 text-xs font-semibold rounded-full \".concat(getStatusColor(record.status)),children:record.status})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"table-cell\",children:/*#__PURE__*/_jsx(\"button\",{className:\"text-primary-600 hover:text-primary-900\",children:/*#__PURE__*/_jsx(FiCalendar,{className:\"w-4 h-4\"})})})]},record._id);})})]})})})})]});};export default Attendance;","map":{"version":3,"names":["React","useState","useEffect","motion","FiPlus","FiCalendar","FiClock","FiCheckCircle","FiXCircle","FiAlertCircle","attendanceAPI","LoadingSpinner","jsx","_jsx","jsxs","_jsxs","Attendance","attendance","setAttendance","loading","setLoading","fetchAttendance","response","getAll","success","data","error","console","getStatusIcon","status","className","getStatusColor","children","size","div","initial","opacity","y","animate","transition","duration","map","record","_record$employeeId","_record$employeeId$fu","_record$employeeId2","_record$employeeId3","tr","employeeId","fullName","split","n","join","Date","date","toLocaleDateString","checkInTime","toLocaleTimeString","checkOutTime","concat","_id"],"sources":["C:/Users/MSI/Videos/Employee-Register-App/frontend/src/pages/attendance/Attendance.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { motion } from 'framer-motion';\nimport { FiPlus, FiCalendar, FiClock, FiCheckCircle, FiXCircle, FiAlertCircle } from 'react-icons/fi';\nimport { attendanceAPI } from '../../services/api';\nimport LoadingSpinner from '../../components/ui/LoadingSpinner';\n\nconst Attendance = () => {\n  const [attendance, setAttendance] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    fetchAttendance();\n  }, []);\n\n  const fetchAttendance = async () => {\n    try {\n      setLoading(true);\n      const response = await attendanceAPI.getAll();\n      if (response.success) {\n        setAttendance(response.data.attendance);\n      }\n    } catch (error) {\n      console.error('Error fetching attendance:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const getStatusIcon = (status) => {\n    switch (status) {\n      case 'Present':\n        return <FiCheckCircle className=\"w-5 h-5 text-green-600\" />;\n      case 'Absent':\n        return <FiXCircle className=\"w-5 h-5 text-red-600\" />;\n      case 'Half Day':\n        return <FiAlertCircle className=\"w-5 h-5 text-yellow-600\" />;\n      default:\n        return <FiClock className=\"w-5 h-5 text-gray-600\" />;\n    }\n  };\n\n  const getStatusColor = (status) => {\n    switch (status) {\n      case 'Present':\n        return 'bg-green-100 text-green-800';\n      case 'Absent':\n        return 'bg-red-100 text-red-800';\n      case 'Half Day':\n        return 'bg-yellow-100 text-yellow-800';\n      default:\n        return 'bg-gray-100 text-gray-800';\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <LoadingSpinner size=\"lg\" />\n      </div>\n    );\n  }\n\n  return (\n    <motion.div\n      initial={{ opacity: 0, y: 20 }}\n      animate={{ opacity: 1, y: 0 }}\n      transition={{ duration: 0.5 }}\n      className=\"space-y-6\"\n    >\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-3xl font-bold text-gray-900\">Attendance</h1>\n          <p className=\"text-gray-600 mt-1\">Track employee attendance and time records</p>\n        </div>\n        <button className=\"btn-primary\">\n          <FiPlus className=\"w-4 h-4 mr-2\" />\n          Mark Attendance\n        </button>\n      </div>\n\n      <div className=\"card\">\n        <div className=\"p-6\">\n          <div className=\"overflow-x-auto\">\n            <table className=\"table\">\n              <thead className=\"table-header\">\n                <tr>\n                  <th className=\"table-header-cell\">Employee</th>\n                  <th className=\"table-header-cell\">Date</th>\n                  <th className=\"table-header-cell\">Check In</th>\n                  <th className=\"table-header-cell\">Check Out</th>\n                  <th className=\"table-header-cell\">Status</th>\n                  <th className=\"table-header-cell\">Actions</th>\n                </tr>\n              </thead>\n              <tbody className=\"table-body\">\n                {attendance.map((record) => (\n                  <motion.tr\n                    key={record._id}\n                    initial={{ opacity: 0 }}\n                    animate={{ opacity: 1 }}\n                    transition={{ duration: 0.3 }}\n                    className=\"table-row\"\n                  >\n                    <td className=\"table-cell\">\n                      <div className=\"flex items-center\">\n                        <div className=\"w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center mr-3\">\n                          <span className=\"text-gray-600 font-medium text-xs\">\n                            {record.employeeId?.fullName?.split(' ').map(n => n[0]).join('')}\n                          </span>\n                        </div>\n                        <div>\n                          <div className=\"text-sm font-medium text-gray-900\">\n                            {record.employeeId?.fullName}\n                          </div>\n                          <div className=\"text-sm text-gray-500\">\n                            {record.employeeId?.employeeId}\n                          </div>\n                        </div>\n                      </div>\n                    </td>\n                    <td className=\"table-cell\">\n                      {new Date(record.date).toLocaleDateString()}\n                    </td>\n                    <td className=\"table-cell\">\n                      {record.checkInTime ? new Date(record.checkInTime).toLocaleTimeString() : '-'}\n                    </td>\n                    <td className=\"table-cell\">\n                      {record.checkOutTime ? new Date(record.checkOutTime).toLocaleTimeString() : '-'}\n                    </td>\n                    <td className=\"table-cell\">\n                      <div className=\"flex items-center\">\n                        {getStatusIcon(record.status)}\n                        <span className={`ml-2 inline-flex px-2 py-1 text-xs font-semibold rounded-full ${getStatusColor(record.status)}`}>\n                          {record.status}\n                        </span>\n                      </div>\n                    </td>\n                    <td className=\"table-cell\">\n                      <button className=\"text-primary-600 hover:text-primary-900\">\n                        <FiCalendar className=\"w-4 h-4\" />\n                      </button>\n                    </td>\n                  </motion.tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        </div>\n      </div>\n    </motion.div>\n  );\n};\n\nexport default Attendance;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}