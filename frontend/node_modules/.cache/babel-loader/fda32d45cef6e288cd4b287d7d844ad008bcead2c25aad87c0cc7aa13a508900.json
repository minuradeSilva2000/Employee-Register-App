{"ast":null,"code":"import React,{useState,useEffect}from'react';import{motion}from'framer-motion';import{FiPlus,FiSearch,FiEdit2,FiTrash2,FiShield,FiUser}from'react-icons/fi';import{userAPI}from'../../services/api';import LoadingSpinner from'../../components/ui/LoadingSpinner';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Users=()=>{const[users,setUsers]=useState([]);const[loading,setLoading]=useState(true);useEffect(()=>{fetchUsers();},[]);const fetchUsers=async()=>{try{setLoading(true);const response=await userAPI.getAll();if(response.success){setUsers(response.data.users);}}catch(error){console.error('Error fetching users:',error);}finally{setLoading(false);}};const getRoleColor=role=>{switch(role){case'Admin':return'bg-red-100 text-red-800';case'HR':return'bg-blue-100 text-blue-800';case'Viewer':return'bg-gray-100 text-gray-800';default:return'bg-gray-100 text-gray-800';}};const getRoleIcon=role=>{switch(role){case'Admin':return/*#__PURE__*/_jsx(FiShield,{className:\"w-4 h-4\"});case'HR':return/*#__PURE__*/_jsx(FiUser,{className:\"w-4 h-4\"});default:return/*#__PURE__*/_jsx(FiUser,{className:\"w-4 h-4\"});}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-64\",children:/*#__PURE__*/_jsx(LoadingSpinner,{size:\"lg\"})});}return/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:0.5},className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900\",children:\"Users\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mt-1\",children:\"Manage system users and permissions\"})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn-primary\",children:[/*#__PURE__*/_jsx(FiPlus,{className:\"w-4 h-4 mr-2\"}),\"Add User\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"table-header\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"table-header-cell\",children:\"User\"}),/*#__PURE__*/_jsx(\"th\",{className:\"table-header-cell\",children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{className:\"table-header-cell\",children:\"Role\"}),/*#__PURE__*/_jsx(\"th\",{className:\"table-header-cell\",children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{className:\"table-header-cell\",children:\"Last Login\"}),/*#__PURE__*/_jsx(\"th\",{className:\"table-header-cell\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"table-body\",children:users.map(user=>/*#__PURE__*/_jsxs(motion.tr,{initial:{opacity:0},animate:{opacity:1},transition:{duration:0.3},className:\"table-row\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"table-cell\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-gray-300 rounded-full flex items-center justify-center mr-3\",children:getRoleIcon(user.role)}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-900\",children:user.name})})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"table-cell\",children:user.email}),/*#__PURE__*/_jsx(\"td\",{className:\"table-cell\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full \".concat(getRoleColor(user.role)),children:[getRoleIcon(user.role),/*#__PURE__*/_jsx(\"span\",{className:\"ml-1\",children:user.role})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"table-cell\",children:/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex px-2 py-1 text-xs font-semibold rounded-full \".concat(user.isActive?'bg-green-100 text-green-800':'bg-red-100 text-red-800'),children:user.isActive?'Active':'Inactive'})}),/*#__PURE__*/_jsx(\"td\",{className:\"table-cell\",children:user.lastLogin?new Date(user.lastLogin).toLocaleDateString():'Never'}),/*#__PURE__*/_jsx(\"td\",{className:\"table-cell\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"text-gray-600 hover:text-gray-900\",children:/*#__PURE__*/_jsx(FiEdit2,{className:\"w-4 h-4\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"text-red-600 hover:text-red-900\",children:/*#__PURE__*/_jsx(FiTrash2,{className:\"w-4 h-4\"})})]})})]},user._id))})]})})})})]});};export default Users;","map":{"version":3,"names":["React","useState","useEffect","motion","FiPlus","FiSearch","FiEdit2","FiTrash2","FiShield","FiUser","userAPI","LoadingSpinner","jsx","_jsx","jsxs","_jsxs","Users","users","setUsers","loading","setLoading","fetchUsers","response","getAll","success","data","error","console","getRoleColor","role","getRoleIcon","className","children","size","div","initial","opacity","y","animate","transition","duration","map","user","tr","name","email","concat","isActive","lastLogin","Date","toLocaleDateString","_id"],"sources":["C:/Users/MSI/Videos/Employee-Register-App/frontend/src/pages/users/Users.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { motion } from 'framer-motion';\nimport { FiPlus, FiSearch, FiEdit2, FiTrash2, FiShield, FiUser } from 'react-icons/fi';\nimport { userAPI } from '../../services/api';\nimport LoadingSpinner from '../../components/ui/LoadingSpinner';\n\nconst Users = () => {\n  const [users, setUsers] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    fetchUsers();\n  }, []);\n\n  const fetchUsers = async () => {\n    try {\n      setLoading(true);\n      const response = await userAPI.getAll();\n      if (response.success) {\n        setUsers(response.data.users);\n      }\n    } catch (error) {\n      console.error('Error fetching users:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const getRoleColor = (role) => {\n    switch (role) {\n      case 'Admin':\n        return 'bg-red-100 text-red-800';\n      case 'HR':\n        return 'bg-blue-100 text-blue-800';\n      case 'Viewer':\n        return 'bg-gray-100 text-gray-800';\n      default:\n        return 'bg-gray-100 text-gray-800';\n    }\n  };\n\n  const getRoleIcon = (role) => {\n    switch (role) {\n      case 'Admin':\n        return <FiShield className=\"w-4 h-4\" />;\n      case 'HR':\n        return <FiUser className=\"w-4 h-4\" />;\n      default:\n        return <FiUser className=\"w-4 h-4\" />;\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <LoadingSpinner size=\"lg\" />\n      </div>\n    );\n  }\n\n  return (\n    <motion.div\n      initial={{ opacity: 0, y: 20 }}\n      animate={{ opacity: 1, y: 0 }}\n      transition={{ duration: 0.5 }}\n      className=\"space-y-6\"\n    >\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-3xl font-bold text-gray-900\">Users</h1>\n          <p className=\"text-gray-600 mt-1\">Manage system users and permissions</p>\n        </div>\n        <button className=\"btn-primary\">\n          <FiPlus className=\"w-4 h-4 mr-2\" />\n          Add User\n        </button>\n      </div>\n\n      <div className=\"card\">\n        <div className=\"p-6\">\n          <div className=\"overflow-x-auto\">\n            <table className=\"table\">\n              <thead className=\"table-header\">\n                <tr>\n                  <th className=\"table-header-cell\">User</th>\n                  <th className=\"table-header-cell\">Email</th>\n                  <th className=\"table-header-cell\">Role</th>\n                  <th className=\"table-header-cell\">Status</th>\n                  <th className=\"table-header-cell\">Last Login</th>\n                  <th className=\"table-header-cell\">Actions</th>\n                </tr>\n              </thead>\n              <tbody className=\"table-body\">\n                {users.map((user) => (\n                  <motion.tr\n                    key={user._id}\n                    initial={{ opacity: 0 }}\n                    animate={{ opacity: 1 }}\n                    transition={{ duration: 0.3 }}\n                    className=\"table-row\"\n                  >\n                    <td className=\"table-cell\">\n                      <div className=\"flex items-center\">\n                        <div className=\"w-10 h-10 bg-gray-300 rounded-full flex items-center justify-center mr-3\">\n                          {getRoleIcon(user.role)}\n                        </div>\n                        <div>\n                          <div className=\"text-sm font-medium text-gray-900\">\n                            {user.name}\n                          </div>\n                        </div>\n                      </div>\n                    </td>\n                    <td className=\"table-cell\">\n                      {user.email}\n                    </td>\n                    <td className=\"table-cell\">\n                      <span className={`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${getRoleColor(user.role)}`}>\n                        {getRoleIcon(user.role)}\n                        <span className=\"ml-1\">{user.role}</span>\n                      </span>\n                    </td>\n                    <td className=\"table-cell\">\n                      <span\n                        className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${\n                          user.isActive\n                            ? 'bg-green-100 text-green-800'\n                            : 'bg-red-100 text-red-800'\n                        }`}\n                      >\n                        {user.isActive ? 'Active' : 'Inactive'}\n                      </span>\n                    </td>\n                    <td className=\"table-cell\">\n                      {user.lastLogin\n                        ? new Date(user.lastLogin).toLocaleDateString()\n                        : 'Never'}\n                    </td>\n                    <td className=\"table-cell\">\n                      <div className=\"flex items-center space-x-2\">\n                        <button className=\"text-gray-600 hover:text-gray-900\">\n                          <FiEdit2 className=\"w-4 h-4\" />\n                        </button>\n                        <button className=\"text-red-600 hover:text-red-900\">\n                          <FiTrash2 className=\"w-4 h-4\" />\n                        </button>\n                      </div>\n                    </td>\n                  </motion.tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        </div>\n      </div>\n    </motion.div>\n  );\n};\n\nexport default Users;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}